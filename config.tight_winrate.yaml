app:
  out_dir: ./out
  cache_dir: ./cache
  log_level: INFO
network:
  timeout_sec: 12
  max_retries: 4
  backoff_base_sec: 0.6
  jitter_sec: 0.35
  rate_limit_per_sec: 4.0
  cache_mode: snapshot
  cache_ttl_sec: 0
  cache_snapshot_id: ""
universe:
  ohlcv_lookback_days: 120
  liquidity_window: 20
  top_liquidity: 500
  daily_recalc_top: 800
  weekly_full_scan_weekday: 0
  include_daily_value_rank_addon: 200
analysis:
  fractal_n: 4
  atr_period: 14
  rsi_period: 14
  ma_fast: 20
  ma_mid: 60
  ma_long: 120
  ma_slow: 200
  bos_buffer_atr: 0.2
  fvg_min_width_atr: 0.3
  ob_min_push_atr: 1.5
  max_zone_age_bars: 120
  bb_period: 20
  bb_k: 2.0
  bb_squeeze_lookback: 20
scoring:
  weights:
    structure_bull: 12
    structure_bear: 10
    bos_recent: 8
    ob_near: 10
    fvg_near: 7
    ob_fvg_confluence: 6
    above_ma200: 6
    above_ma20: 4
    ma20_above_ma200: 5
    rsi_neutral: 4
    rsi_bullish: 5
    macd_bullish: 5
    macd_cross: 3
    volume_surge: 4
    rs_strong: 6
    regime_tailwind: 6
    regime_headwind: -8
    atr_spike_risk: -6
  top_detail: 50
regime:
  index_lookback_days: 260
  rs_lookback_days: 60
  atr_spike_mult: 1.8
report:
  title: KOSPI+KOSDAQ Daily Candidates (SMC Context)
  max_table_rows: 500
  chart_lookback: 180
  include_sort_search_js: true
  execution_guide: "이 리포트는 19:00 KST 종가 이후 계산되며, 다음 거래일 시가 기준 실행을 가정합니다."
  tp_sl_conflict_note: "OHLC만 있을 때 TP/SL 동시 터치 시 보수적(Stop 우선) 가정."
trade:
  execution_delay_days: 1
  entry_price_mode: next_open
  force_top_k: 0
  min_score: 4.0
  min_expected_return: 0.02
  min_rr: 1.5
  min_risk_ratio: 0.001
  stop_atr_mult: 1.5
  tp_rr_target: 2.0
  tp_partial_rr: 1.0
  tp_partial_size: 0.5
  move_stop_to_entry: true
  max_hold_days: 20
  score_exit_threshold: 2.0
  exit_on_structure_break: true
  exit_on_score_drop: true
  tp_sl_conflict: conservative
  trail_atr_mult: 0.0
  enable_trend_filter: true
  trend_ma_stack: true
  trend_slope_atr_min: 0.1
  enable_volatility_filter: true
  max_atr_pct: 0.05
  max_atr_ratio: 1.6
  enable_volume_confirm: true
  min_volume_ratio: 1.5
  enable_rs_rank: true
  rs_rank_min_pct: 0.7
  enable_bb_squeeze_breakout: true
  bb_squeeze_max_width: 0.08
  min_confirmations: 2
backtest:
  start: '2025-01-01'
  end: '2025-12-31'
  fill_price: next_open
  fee_bps: 8
  slippage_bps: 5
  max_positions: 10
  risk_per_trade: 0.01
  stop_grace_days: 15
  strategy_params:
    threshold: 4.0
    min_room_to_high_atr: 0.75
    room_to_high_levels: [[1.5, 0.75], [2.5, 1.5], [4.0, 2.5]]
    w_momentum_20: 0.75
    w_momentum_60: 1.5
    w_momentum_60_negative: -1.5
    ma20_slope_atr_threshold: 0.15
    w_ma20_slope: 1.0
    atr_ratio_low: 0.9
    atr_ratio_high: 1.4
    w_atr_ratio_low: 0.75
    w_atr_ratio_high: -1.0
    ob_quality_strong: 2.0
    ob_quality_min: 1.0
    w_ob_quality_strong: 1.0
    w_ob_quality_weak: -0.5
    ob_age_max: 60
    w_ob_age_old: -0.5
    fvg_age_max: 60
    w_fvg_age_old: -0.5
    require_tailwind: true
    require_above_ma200: true
  tp:
    rr_target: 2.0
    partial_rr: 1.0
    partial_size: 0.5
    move_stop_to_entry: true
  strategy: tight_winrate
  symbols: ["005930","000660","035420","051910","035720"] # TOP500
#  symbols: TOP500
  warmup_bars: 260
  max_fetch_count: 6000
